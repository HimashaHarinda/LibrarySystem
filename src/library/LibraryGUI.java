package library;

import java.io.IOException;
import java.util.Iterator;
import java.util.Vector;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.DefaultListModel;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;

public class LibraryGUI extends javax.swing.JFrame 
{
    /*
  private SetOfMembers theMembers=new SetOfMembers();
  private SetOfBooks holdings=new SetOfBooks();
  */
  String Title;
  String Author;
  String ISBN;
  String ANumber;
  String Borrower;
  SetOfBooks setofbooks = new SetOfBooks();
  
  String memberNumber;
  String name;
  String address;
  String PhoneNo;
  SetOfMembers setofmembers = new SetOfMembers();
  Vector vt = new Vector();
  
  
  public static void main(String args[]) 
  {
    LibraryGUI theGUI=new LibraryGUI();
    theGUI.setVisible(true);
  }
  
  private static final long serialVersionUID = -8060764448794803370L;
  
  public LibraryGUI() 
  {
    initComponents();
    BookTable();
    MemberTable();
    
    memberDetails.setVisible(false);
    bookInventory.setVisible(true);
    loanReturn.setVisible(false);
    
    try{
        setofbooks = (SetOfBooks) JSMain.Deserialization("book.txt");
        setofmembers = (SetOfMembers) JSMain.Deserialization("member.txt");
        
    } catch (IOException ex) {
          Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      } catch (ClassNotFoundException ex) {
          Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      }
    
/*
    Member member1=new Member("member1");
    Member member2=new Member("member2");
    Member member3=new Member("member3");
    Member member4=new Member("member4");

    theMembers.addMember(member1);
    theMembers.addMember(member2);
    theMembers.addMember(member3);
    theMembers.addMember(member4);

    Book book1=new Book("book1");
    Book book2=new Book("book2");

    holdings.addBook(book1);
    holdings.addBook(book2);
    */
  }

  /** This method is called from within the constructor to
   * initialize the form.
   * WARNING: Do NOT modify this code. The content of this method is
   * always regenerated by the Form Editor.
   */
  @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jPanel2 = new javax.swing.JPanel();
        jButton1 = new javax.swing.JButton();
        jButton2 = new javax.swing.JButton();
        LoanR = new javax.swing.JButton();
        jLayeredPane1 = new javax.swing.JLayeredPane();
        bookInventory = new javax.swing.JPanel();
        jPanel4 = new javax.swing.JPanel();
        jLabel2 = new javax.swing.JLabel();
        jLabelAN = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        jLabelISBN = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        jLabelBT = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        jLabelAut = new javax.swing.JTextField();
        insertbtn = new javax.swing.JButton();
        jPanel5 = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        jTableBook = new javax.swing.JTable();
        jTextField1 = new javax.swing.JTextField();
        jdlt = new javax.swing.JButton();
        bsearch = new javax.swing.JButton();
        memberDetails = new javax.swing.JPanel();
        jPanel7 = new javax.swing.JPanel();
        jLabel6 = new javax.swing.JLabel();
        jTextMNumber = new javax.swing.JTextField();
        jLabel7 = new javax.swing.JLabel();
        jTextMName = new javax.swing.JTextField();
        jLabel8 = new javax.swing.JLabel();
        jTextMAddress = new javax.swing.JTextField();
        jLabel9 = new javax.swing.JLabel();
        jTextMphone = new javax.swing.JTextField();
        madd = new javax.swing.JButton();
        jPanel8 = new javax.swing.JPanel();
        jScrollPane2 = new javax.swing.JScrollPane();
        jTableMember = new javax.swing.JTable();
        jTextField10 = new javax.swing.JTextField();
        mdelete = new javax.swing.JButton();
        msearch = new javax.swing.JButton();
        loanReturn = new javax.swing.JPanel();
        jPanel10 = new javax.swing.JPanel();
        jPanel3 = new javax.swing.JPanel();
        jScrollPane4 = new javax.swing.JScrollPane();
        jTableBook1 = new javax.swing.JTable();
        refresh = new javax.swing.JButton();
        returnbook = new javax.swing.JButton();
        jScrollPane5 = new javax.swing.JScrollPane();
        jTable2 = new javax.swing.JTable();
        jScrollPane3 = new javax.swing.JScrollPane();
        jList110 = new javax.swing.JList<String>();
        jtxtselectedName = new javax.swing.JTextField();
        selectm = new javax.swing.JButton();
        issuebook = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setResizable(false);

        jPanel1.setBackground(new java.awt.Color(153, 153, 0));

        jLabel1.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel1.setForeground(new java.awt.Color(51, 255, 153));
        jLabel1.setText("Library System");

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jLabel1)
                .addGap(279, 279, 279))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addComponent(jLabel1)
                .addGap(0, 11, Short.MAX_VALUE))
        );

        jButton1.setBackground(new java.awt.Color(255, 255, 255));
        jButton1.setFont(new java.awt.Font("Calibri", 1, 14)); // NOI18N
        jButton1.setForeground(new java.awt.Color(0, 0, 255));
        jButton1.setText("BOOK INVENTORY");
        jButton1.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButton1.setPreferredSize(new java.awt.Dimension(125, 40));
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        jButton2.setBackground(new java.awt.Color(255, 255, 255));
        jButton2.setFont(new java.awt.Font("Calibri", 1, 14)); // NOI18N
        jButton2.setForeground(new java.awt.Color(0, 0, 255));
        jButton2.setText("MEMBER DETAILS");
        jButton2.setBorder(null);
        jButton2.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        jButton2.setPreferredSize(new java.awt.Dimension(125, 40));
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });

        LoanR.setBackground(new java.awt.Color(255, 255, 255));
        LoanR.setFont(new java.awt.Font("Calibri", 1, 14)); // NOI18N
        LoanR.setForeground(new java.awt.Color(0, 0, 255));
        LoanR.setText("LOAN & RETURN");
        LoanR.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        LoanR.setPreferredSize(new java.awt.Dimension(125, 40));
        LoanR.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                LoanRActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGap(12, 12, 12)
                .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 153, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(24, 24, 24)
                .addComponent(jButton2, javax.swing.GroupLayout.PREFERRED_SIZE, 153, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(LoanR, javax.swing.GroupLayout.PREFERRED_SIZE, 138, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                .addComponent(jButton2, javax.swing.GroupLayout.PREFERRED_SIZE, 35, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addComponent(LoanR, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE))
        );

        bookInventory.setBackground(new java.awt.Color(255, 255, 255));

        jPanel4.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));

        jLabel2.setForeground(new java.awt.Color(102, 102, 255));
        jLabel2.setText("Access Number");

        jLabel3.setForeground(new java.awt.Color(102, 102, 255));
        jLabel3.setText("ISBN Number");

        jLabel4.setForeground(new java.awt.Color(102, 102, 255));
        jLabel4.setText("Book Title");

        jLabel5.setForeground(new java.awt.Color(102, 102, 255));
        jLabel5.setText("Author");

        insertbtn.setForeground(new java.awt.Color(255, 0, 0));
        insertbtn.setText("Add to the Inventory");
        insertbtn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                insertbtnActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabelBT, javax.swing.GroupLayout.PREFERRED_SIZE, 164, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabelISBN, javax.swing.GroupLayout.PREFERRED_SIZE, 164, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(jPanel4Layout.createSequentialGroup()
                            .addContainerGap()
                            .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(jLabel2)
                                .addComponent(jLabel3)
                                .addComponent(jLabel4)))
                        .addGroup(jPanel4Layout.createSequentialGroup()
                            .addContainerGap()
                            .addComponent(jLabel5))
                        .addGroup(jPanel4Layout.createSequentialGroup()
                            .addGap(35, 35, 35)
                            .addComponent(jLabelAN, javax.swing.GroupLayout.PREFERRED_SIZE, 164, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                        .addComponent(insertbtn, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                        .addComponent(jLabelAut, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 164, Short.MAX_VALUE)))
                .addContainerGap(48, Short.MAX_VALUE))
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel2)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jLabelAN, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jLabel3)
                .addGap(18, 18, 18)
                .addComponent(jLabelISBN, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jLabel4)
                .addGap(18, 18, 18)
                .addComponent(jLabelBT, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jLabel5)
                .addGap(18, 18, 18)
                .addComponent(jLabelAut, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 12, Short.MAX_VALUE)
                .addComponent(insertbtn))
        );

        jPanel5.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));

        jTableBook.setForeground(new java.awt.Color(0, 153, 153));
        jTableBook.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null}
            },
            new String [] {
                "Book Title", "Author", "ISBN Number", "Access Number", "Borrower"
            }
        ));
        jScrollPane1.setViewportView(jTableBook);

        jTextField1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField1ActionPerformed(evt);
            }
        });
        jTextField1.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextField1KeyReleased(evt);
            }
        });

        jdlt.setForeground(new java.awt.Color(255, 0, 51));
        jdlt.setText("Delete Book from Inventory");
        jdlt.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jdltActionPerformed(evt);
            }
        });

        bsearch.setForeground(new java.awt.Color(255, 0, 51));
        bsearch.setText("Search By Book Title");
        bsearch.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bsearchActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel5Layout.createSequentialGroup()
                                .addComponent(bsearch)
                                .addGap(18, 18, 18)
                                .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, 142, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addContainerGap())
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel5Layout.createSequentialGroup()
                                .addComponent(jdlt)
                                .addGap(20, 20, 20))))
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 466, Short.MAX_VALUE)))
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addGap(3, 3, 3)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(bsearch))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jdlt))
        );

        javax.swing.GroupLayout bookInventoryLayout = new javax.swing.GroupLayout(bookInventory);
        bookInventory.setLayout(bookInventoryLayout);
        bookInventoryLayout.setHorizontalGroup(
            bookInventoryLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(bookInventoryLayout.createSequentialGroup()
                .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        bookInventoryLayout.setVerticalGroup(
            bookInventoryLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jPanel5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        memberDetails.setBackground(new java.awt.Color(255, 255, 255));

        jPanel7.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));

        jLabel6.setForeground(new java.awt.Color(102, 102, 255));
        jLabel6.setText("Member Number");

        jTextMNumber.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextMNumberActionPerformed(evt);
            }
        });

        jLabel7.setForeground(new java.awt.Color(102, 102, 255));
        jLabel7.setText("Member Name");

        jLabel8.setForeground(new java.awt.Color(102, 102, 255));
        jLabel8.setText("Member Address");

        jLabel9.setForeground(new java.awt.Color(102, 102, 255));
        jLabel9.setText("Member Phone Number");

        madd.setForeground(new java.awt.Color(255, 0, 51));
        madd.setText("Add Member");
        madd.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                maddActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel7Layout = new javax.swing.GroupLayout(jPanel7);
        jPanel7.setLayout(jPanel7Layout);
        jPanel7Layout.setHorizontalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                        .addComponent(jTextMphone, javax.swing.GroupLayout.PREFERRED_SIZE, 164, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jTextMAddress, javax.swing.GroupLayout.PREFERRED_SIZE, 164, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jTextMName, javax.swing.GroupLayout.PREFERRED_SIZE, 164, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel7Layout.createSequentialGroup()
                                .addContainerGap()
                                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel6)
                                    .addComponent(jLabel7)
                                    .addComponent(jLabel8)))
                            .addGroup(jPanel7Layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jLabel9))
                            .addGroup(jPanel7Layout.createSequentialGroup()
                                .addGap(35, 35, 35)
                                .addComponent(jTextMNumber, javax.swing.GroupLayout.PREFERRED_SIZE, 164, javax.swing.GroupLayout.PREFERRED_SIZE))))
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addGap(52, 52, 52)
                        .addComponent(madd)))
                .addContainerGap(36, Short.MAX_VALUE))
        );
        jPanel7Layout.setVerticalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel7Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel6)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jTextMNumber, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jLabel7)
                .addGap(18, 18, 18)
                .addComponent(jTextMName, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jLabel8)
                .addGap(18, 18, 18)
                .addComponent(jTextMAddress, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jLabel9)
                .addGap(18, 18, 18)
                .addComponent(jTextMphone, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 13, Short.MAX_VALUE)
                .addComponent(madd))
        );

        jPanel8.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));

        jTableMember.setForeground(new java.awt.Color(0, 153, 153));
        jTableMember.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Member Number", "Member Name", "Member Address", "Member Phone Number"
            }
        ));
        jScrollPane2.setViewportView(jTableMember);

        jTextField10.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextField10ActionPerformed(evt);
            }
        });

        mdelete.setForeground(new java.awt.Color(255, 0, 51));
        mdelete.setText("Delete Member");
        mdelete.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mdeleteActionPerformed(evt);
            }
        });

        msearch.setForeground(new java.awt.Color(255, 0, 51));
        msearch.setText("Search By Member Name");
        msearch.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                msearchActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel8Layout = new javax.swing.GroupLayout(jPanel8);
        jPanel8.setLayout(jPanel8Layout);
        jPanel8Layout.setHorizontalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel8Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(msearch)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jTextField10, javax.swing.GroupLayout.PREFERRED_SIZE, 142, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addGap(314, 314, 314)
                .addComponent(mdelete)
                .addGap(0, 20, Short.MAX_VALUE))
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 452, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel8Layout.setVerticalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addGap(5, 5, 5)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jTextField10, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(msearch))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(mdelete))
        );

        javax.swing.GroupLayout memberDetailsLayout = new javax.swing.GroupLayout(memberDetails);
        memberDetails.setLayout(memberDetailsLayout);
        memberDetailsLayout.setHorizontalGroup(
            memberDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(memberDetailsLayout.createSequentialGroup()
                .addComponent(jPanel7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel8, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        memberDetailsLayout.setVerticalGroup(
            memberDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel7, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jPanel8, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        loanReturn.setBackground(new java.awt.Color(255, 255, 255));

        jPanel10.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));

        jTableBook1.setForeground(new java.awt.Color(0, 153, 153));
        jTableBook1.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null},
                {null, null, null, null, null}
            },
            new String [] {
                "Book Title", "Author", "ISBN Number", "Access Number", "Borrower"
            }
        ));
        jScrollPane4.setViewportView(jTableBook1);

        refresh.setForeground(new java.awt.Color(255, 0, 51));
        refresh.setText("Refresh");
        refresh.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                refreshActionPerformed(evt);
            }
        });

        returnbook.setForeground(new java.awt.Color(255, 0, 51));
        returnbook.setText("RETURN BOOK");
        returnbook.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                returnbookActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane4, javax.swing.GroupLayout.DEFAULT_SIZE, 324, Short.MAX_VALUE)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(returnbook)
                        .addGap(34, 34, 34)
                        .addComponent(refresh)))
                .addContainerGap())
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addGap(33, 33, 33)
                .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, 0, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(refresh)
                    .addComponent(returnbook)))
        );

        jTable2.setForeground(new java.awt.Color(0, 153, 153));
        jTable2.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Book Title", "Author", "ISBN Number", "Access Number"
            }
        ));
        jTable2.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                jTable2MouseClicked(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                jTable2MouseExited(evt);
            }
        });
        jScrollPane5.setViewportView(jTable2);

        jScrollPane3.setViewportView(jList110);

        jtxtselectedName.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jtxtselectedName.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));
        jtxtselectedName.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jtxtselectedNameActionPerformed(evt);
            }
        });

        selectm.setForeground(new java.awt.Color(255, 0, 51));
        selectm.setText("Select Member");
        selectm.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                selectmActionPerformed(evt);
            }
        });

        issuebook.setForeground(new java.awt.Color(255, 0, 51));
        issuebook.setText("ISSUE BOOK");
        issuebook.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                issuebookActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel10Layout = new javax.swing.GroupLayout(jPanel10);
        jPanel10.setLayout(jPanel10Layout);
        jPanel10Layout.setHorizontalGroup(
            jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel10Layout.createSequentialGroup()
                .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel10Layout.createSequentialGroup()
                        .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel10Layout.createSequentialGroup()
                                .addGap(2, 2, 2)
                                .addComponent(selectm)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(jtxtselectedName, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel10Layout.createSequentialGroup()
                                .addGap(35, 35, 35)
                                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 121, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(issuebook)))
                        .addGap(88, 88, Short.MAX_VALUE))
                    .addGroup(jPanel10Layout.createSequentialGroup()
                        .addComponent(jScrollPane5, javax.swing.GroupLayout.DEFAULT_SIZE, 367, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)))
                .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );
        jPanel10Layout.setVerticalGroup(
            jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel10Layout.createSequentialGroup()
                .addGap(8, 8, 8)
                .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel10Layout.createSequentialGroup()
                        .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jtxtselectedName, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(selectm))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jScrollPane5, javax.swing.GroupLayout.PREFERRED_SIZE, 142, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel10Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(issuebook))
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );

        javax.swing.GroupLayout loanReturnLayout = new javax.swing.GroupLayout(loanReturn);
        loanReturn.setLayout(loanReturnLayout);
        loanReturnLayout.setHorizontalGroup(
            loanReturnLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel10, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        loanReturnLayout.setVerticalGroup(
            loanReturnLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel10, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        javax.swing.GroupLayout jLayeredPane1Layout = new javax.swing.GroupLayout(jLayeredPane1);
        jLayeredPane1.setLayout(jLayeredPane1Layout);
        jLayeredPane1Layout.setHorizontalGroup(
            jLayeredPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(bookInventory, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(jLayeredPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addComponent(memberDetails, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(jLayeredPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addComponent(loanReturn, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jLayeredPane1Layout.setVerticalGroup(
            jLayeredPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jLayeredPane1Layout.createSequentialGroup()
                .addComponent(bookInventory, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 24, Short.MAX_VALUE))
            .addGroup(jLayeredPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jLayeredPane1Layout.createSequentialGroup()
                    .addComponent(memberDetails, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGap(0, 22, Short.MAX_VALUE)))
            .addGroup(jLayeredPane1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jLayeredPane1Layout.createSequentialGroup()
                    .addComponent(loanReturn, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGap(0, 22, Short.MAX_VALUE)))
        );
        jLayeredPane1.setLayer(bookInventory, javax.swing.JLayeredPane.DEFAULT_LAYER);
        jLayeredPane1.setLayer(memberDetails, javax.swing.JLayeredPane.DEFAULT_LAYER);
        jLayeredPane1.setLayer(loanReturn, javax.swing.JLayeredPane.DEFAULT_LAYER);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addComponent(jLayeredPane1)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLayeredPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        pack();
        setLocationRelativeTo(null);
    }// </editor-fold>//GEN-END:initComponents

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
         bookInventory.setVisible(true);
        memberDetails.setVisible(false);
        loanReturn.setVisible(false);
        
        BookTable();
    }//GEN-LAST:event_jButton1ActionPerformed

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
        bookInventory.setVisible(false);
        memberDetails.setVisible(true);
        loanReturn.setVisible(false);
    }//GEN-LAST:event_jButton2ActionPerformed

    private void LoanRActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_LoanRActionPerformed
         bookInventory.setVisible(false);
        memberDetails.setVisible(false);
        loanReturn.setVisible(true);
        DefaultTableModel def = (DefaultTableModel) jTable2.getModel();
        
        while(def.getRowCount()>0){
            for(int load = 0; load<def.getRowCount();++load){
                def.removeRow(load);
            }
        }
        try{
            setofbooks = (SetOfBooks) JSMain.Deserialization("book.txt");
            
        } catch (IOException ex) {
          Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      } catch (ClassNotFoundException ex) {
          Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      }
        
        setofbooks.Loadborrow(jTable2, setofbooks);
        
        
                 
        
        DefaultTableModel defModel = (DefaultTableModel) jTableBook1.getModel();
        
        while(defModel.getRowCount()>0){
            for(int load = 0; load<defModel.getRowCount();++load){
                defModel.removeRow(load);
            }
        }
        try{
            setofbooks = (SetOfBooks) JSMain.Deserialization("book.txt");
            
        } catch (IOException ex) {
          Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      } catch (ClassNotFoundException ex) {
          Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      }
        
        setofbooks.edit(jTableBook1, setofbooks);
    
        
        
    }//GEN-LAST:event_LoanRActionPerformed

    private void jTable2MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTable2MouseClicked
       DefaultListModel defl = new DefaultListModel();
       DefaultTableModel def = (DefaultTableModel) jTable2.getModel();
       int v = jTable2.getSelectedRow();
       String r = def.getValueAt(v, 0).toString(); //value is taken by book Title
       vt.add(r);
    }//GEN-LAST:event_jTable2MouseClicked

    private void jTable2MouseExited(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jTable2MouseExited
         DefaultListModel defl = new DefaultListModel();        
         Vector rowId = vt;
         Iterator it = rowId.iterator();
         while(it.hasNext()){
             defl.addElement(it.next());
             
         }
        jList110.setModel(defl);
        
    }//GEN-LAST:event_jTable2MouseExited

    private void jtxtselectedNameActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jtxtselectedNameActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jtxtselectedNameActionPerformed

    private void jTextMNumberActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextMNumberActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextMNumberActionPerformed

    private void jTextField1KeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextField1KeyReleased
        // TODO add your handling code here:
        BookTable();
    }//GEN-LAST:event_jTextField1KeyReleased



//read inserted data from the text fields & write them 
    private void insertbtnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_insertbtnActionPerformed
               Title=jLabelBT.getText();
         Author=jLabelAut.getText();
         ISBN=jLabelISBN.getText();
         ANumber=jLabelAN.getText();
         
        try{
            setofbooks = (SetOfBooks) JSMain.Deserialization("book.txt"); //setofbooks deserializing
            
        } catch (IOException ex) {
          Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      } catch (ClassNotFoundException ex) {
          Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      }
       
        Book book = new Book (Title, Author, ISBN, ANumber, "not yet"); //setofbooks serializing
        setofbooks.addBook(book);
        
        try{
            JSMain.Serialization("book.txt", setofbooks);
            JOptionPane.showMessageDialog(null, "Book Added Successfully");
        } catch (IOException ex) {
          Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      }
        BookTable();
    }//GEN-LAST:event_insertbtnActionPerformed

    private void jdltActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jdltActionPerformed
         DefaultTableModel def = (DefaultTableModel) jTableBook.getModel();
        int dlt = jTableBook.getSelectedRow();
        String ID = def.getValueAt(dlt, 3).toString();
        Book book = setofbooks.dltrow(setofbooks, ID); //dltrow
        setofbooks.removeBook(book);//removeBook
        def.removeRow(dlt);
        
        try{
            JSMain.Serialization("book.txt", setofbooks); //serializing
            
        } catch (IOException ex) {
          Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      }
        JOptionPane.showMessageDialog(null, "Book Deleted Successfully");
    }//GEN-LAST:event_jdltActionPerformed

    private void bsearchActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bsearchActionPerformed
        DefaultTableModel dtm=(DefaultTableModel)jTableBook.getModel();
        
        while(dtm.getRowCount()>0)
        {
            for(int t=0;t<dtm.getRowCount();++t)
            {
                dtm.removeRow(t);
            }
        }
        setofbooks.search(setofbooks,jTableBook, jTextField1.getText());
    }//GEN-LAST:event_bsearchActionPerformed

    private void maddActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_maddActionPerformed
        memberNumber = jTextMNumber.getText();
         name = jTextMName.getText();
         address = jTextMAddress.getText();
         PhoneNo = jTextMphone.getText();
         
          Member member = new Member(memberNumber, name, address, PhoneNo);
        setofmembers.addMember(member);
         
         try{
            JSMain.Serialization("member.txt", setofmembers);    //serializing adding member
            JOptionPane.showMessageDialog(null, "Member Added Successfully");
        }   catch (IOException ex) {
            Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      }  
            MemberTable();
    }//GEN-LAST:event_maddActionPerformed

    private void mdeleteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_mdeleteActionPerformed
         DefaultTableModel def = (DefaultTableModel) jTableMember.getModel();
        int dlt = jTableMember.getSelectedRow();
        String ID = def.getValueAt(dlt, 0).toString();
        Member member = setofmembers.dltrowMember(setofmembers, ID);//setofmembers
        setofmembers.removeMember(member);
        def.removeRow(dlt);
        
        try{
            JSMain.Serialization("member.txt", setofmembers); //serializing deleting member
            
        } catch (IOException ex) {
          Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      }
        JOptionPane.showMessageDialog(null, "Member Deleted Successfully");
    }//GEN-LAST:event_mdeleteActionPerformed

    private void selectmActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_selectmActionPerformed
        Select Slctm = new Select();
        Slctm.setVisible(true);
        
    }//GEN-LAST:event_selectmActionPerformed

    private void refreshActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_refreshActionPerformed
/*       DefaultTableModel def = (DefaultTableModel) jTableBook1.getModel();
         while(def.getRowCount() > 0){
             for(int i= 0; i<def.getRowCount();i++){
                 def.removeRow(i);
             }
         }
         
         try{
             setofbooks = (SetOfBooks) JSMain.Deserialization("book.txt");
             
         } catch (IOException ex) {
          Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      } catch (ClassNotFoundException ex) {
          Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      }
        
  */       
         
         
          /*       
        
        DefaultTableModel defModel = (DefaultTableModel) jTableBook1.getModel();
        
        while(defModel.getRowCount()>0){
            for(int load = 0; load<defModel.getRowCount();++load){
                defModel.removeRow(load);
            }
        }
        try{
            setofbooks = (SetOfBooks) JSMain.Deserialization("book.txt");
            
        } catch (IOException ex) {
          Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      } catch (ClassNotFoundException ex) {
          Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      }
   */     
//        setofbooks.edit(jTableBook1, setofbooks);

    }//GEN-LAST:event_refreshActionPerformed

    private void issuebookActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_issuebookActionPerformed
        int maximum; 
        Vector vbTitle = vt;
        Iterator it = vbTitle.iterator();
        while(it.hasNext()){
            int max = setofbooks.borrowMaxBook(jtxtselectedName.getText(), setofbooks);
        if(max <=2){
            maximum = setofbooks.borrowMaxBook(jtxtselectedName.getText(), setofbooks);
            Title = (String) it.next();
            Borrower = jtxtselectedName.getText();
            setofbooks.issueBookLoan(Title, Borrower, setofbooks);
        
            try{
                
                JSMain.Serialization("book.txt", setofbooks);
                JOptionPane.showMessageDialog(null, "Book Borrowed Successfully");
            }   catch (IOException ex) {
                    Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
                }
        }else{
          JOptionPane.showMessageDialog(null, "Warning! A Member can borrow only upto 3 books");
            break;
        }
         }
         vbTitle.removeAll(vbTitle);
         if(evt.getSource()==issuebook){
            DefaultListModel defm = (DefaultListModel) jList110.getModel();
            defm.removeAllElements();
         }
        
         DefaultTableModel def = (DefaultTableModel) jTable2.getModel();
         while(def.getRowCount() > 0){
             for(int i= 0; i<def.getRowCount();++i){
                 def.removeRow(i);
             }
         }
         
         try{
             setofbooks = (SetOfBooks) JSMain.Deserialization("book.txt"); //borrow books deserialized
             
         } catch (IOException ex) {
          Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      } catch (ClassNotFoundException ex) {
          Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      }
         
         setofbooks.Loadborrow(jTable2, setofbooks);
         
    }//GEN-LAST:event_issuebookActionPerformed

    private void jTextField1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField1ActionPerformed

    private void jTextField10ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextField10ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextField10ActionPerformed

    private void msearchActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_msearchActionPerformed
          DefaultTableModel dtm=(DefaultTableModel)jTableMember.getModel();
        
        while(dtm.getRowCount()>0)
        {
            for(int t=0;t<dtm.getRowCount();++t)
            {
                dtm.removeRow(t);
            }
        }
        setofmembers.msearch(setofmembers, jTableMember, jTextField10.getText());
        
    }//GEN-LAST:event_msearchActionPerformed

    private void returnbookActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_returnbookActionPerformed
       try{
           int row = jTableBook1.getSelectedRow();
           DefaultTableModel def = (DefaultTableModel) jTableBook1.getModel();
           row = jTableBook1.getSelectedRow();
           String returnT = def.getValueAt(row,3).toString(); //used ISBN number 
           setofbooks.Return(returnT, setofbooks);//return
           JOptionPane.showMessageDialog(null, name+" Return the book");
           JSMain.Serialization("book.txt", setofbooks);
           def.removeRow(row);
           
       }catch(IOException ex){
           Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
       }
    }//GEN-LAST:event_returnbookActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton LoanR;
    private javax.swing.JPanel bookInventory;
    private javax.swing.JButton bsearch;
    private javax.swing.JButton insertbtn;
    private javax.swing.JButton issuebook;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JTextField jLabelAN;
    private javax.swing.JTextField jLabelAut;
    private javax.swing.JTextField jLabelBT;
    private javax.swing.JTextField jLabelISBN;
    private javax.swing.JLayeredPane jLayeredPane1;
    private javax.swing.JList<String> jList110;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel10;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JScrollPane jScrollPane5;
    private javax.swing.JTable jTable2;
    private javax.swing.JTable jTableBook;
    private javax.swing.JTable jTableBook1;
    private javax.swing.JTable jTableMember;
    private javax.swing.JTextField jTextField1;
    private javax.swing.JTextField jTextField10;
    private javax.swing.JTextField jTextMAddress;
    private javax.swing.JTextField jTextMName;
    private javax.swing.JTextField jTextMNumber;
    private javax.swing.JTextField jTextMphone;
    private javax.swing.JButton jdlt;
    public static javax.swing.JTextField jtxtselectedName;
    private javax.swing.JPanel loanReturn;
    private javax.swing.JButton madd;
    private javax.swing.JButton mdelete;
    private javax.swing.JPanel memberDetails;
    private javax.swing.JButton msearch;
    private javax.swing.JButton refresh;
    private javax.swing.JButton returnbook;
    private javax.swing.JButton selectm;
    // End of variables declaration//GEN-END:variables

    //loading book table 
    private void BookTable() {
            DefaultTableModel def = (DefaultTableModel) jTableBook.getModel();
            while (def.getRowCount()> 0 ){
                for(int load= 0; load<def.getRowCount(); ++load){
                    def.removeRow(load);
                    
                }
                
            }
            try{
                setofbooks =(SetOfBooks) JSMain.Deserialization("book.txt");
            } catch (IOException ex) {
          Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      } catch (ClassNotFoundException ex) {
          Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      }
            setofbooks.loadBooktable(jTableBook, setofbooks);

    }
    public void Issuetable()
    {
        SetOfBooks set=new SetOfBooks();
        DefaultTableModel dtm=(DefaultTableModel)jTable2.getModel();
        
        while(dtm.getRowCount()>0)
        {
            for(int a=0;a<dtm.getRowCount();++a)
            {
                dtm.removeRow(a);
            }
        }
        BookTable();       
    
    
    
    try
    {
       setofbooks=(SetOfBooks)JSMain.Deserialization("book.txt");
    } catch (IOException ex) {
          Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      } catch (ClassNotFoundException ex) {
          Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      }
    
    }
    
  

    private void MemberTable() {
         DefaultTableModel def = (DefaultTableModel) jTableMember.getModel();
            while (def.getRowCount()> 0 ){
                for(int load= 0; load<def.getRowCount(); ++load){
                    def.removeRow(load);
                    
                }
                
            }
            try{
                setofmembers =(SetOfMembers) JSMain.Deserialization("member.txt");
            } catch (IOException ex) {
          Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      } catch (ClassNotFoundException ex) {
          Logger.getLogger(LibraryGUI.class.getName()).log(Level.SEVERE, null, ex);
      }
            setofmembers.loadMemberTable(jTableMember, setofmembers);
        
        
        
    
    }


}
